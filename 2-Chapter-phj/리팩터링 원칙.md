## 2.1 리팩터링 정의

리팩터링: [명사] 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도 록 내부 구조를 변경하는 기법

앞 장에서 본 함수 추출하기6.1절와 조건부 로직을 다형성으로 바꾸기10.4절처럼 이름 붙은 리팩터링 기법들이 이 정의에 해당한
다.

리팩터링(하다): [동사] 소프트웨어의 겉보기 동작은 그대로 유지한 채, 여러 가지 리팩터링 기법을 적용해서 소프트웨어를 재구
성하다.

예를 들어 두 버전의 용어를 한 문장에 담으면 ‘앞으로 몇 시간은 리팩터링할 것 같은데 그 사이 적용하는 리팩터링은 수십 가지
나 될 것 같다’처럼 표현할 수 있다.

리팩터링은 결국 동작을 보존하는 작은 단계들을 거쳐 코드를 수정하고, 이러한 단계들을 순차적으로연결하여 큰 변화를 만들어
내는 일이다. 개별 리팩터링은 그 자체로 아주 작을 수도 있고, 작은단계 여러 개가 합쳐진 모습일 수도 있다. 따라서 리팩터링
하는 동안에는 코드가 항상 정상 작동하기 때문에 전체 작업이 끝나지 않았더라도 언제든 멈출 수 있다.

> 누군가 “리팩터링하다가 코드가 깨져서 며칠이나 고생했다”라고 한다면, 십중팔구 리팩터링한 것이 아니다.

한 번에 바꿀 수 있는 작업을수많은 단계로 잘게 나눠서 작업하는 모습을 처음 접하면 리팩터링하는 것이 오히려 비효율적이라고
생각하기 쉽다.

**하지만 이렇게 잘게 나눔으로써 오히려 작업을 더 빨리 처리할 수 있다. 단계들이 체계적으로 구성되어 있기도하고, 무엇보**
**다 디버깅하는 데 시간을 뺏기지 않기 때문이다.**

리팩터링을 정의할 때 ‘겉보기 동작observable behavior’이란 표현을 썼다. 일부러 두리뭉실하게 표현했는데, 리팩터링하기 전과
후의 코드가 똑같이 동작해야 한다는 뜻이다.

특히 함수 선언 바꾸기나 함수 옮기기 같은 리팩터링을 하면 모듈의 인터페이스가 바뀔 때가 많다. 한편, 리팩터링과정에서 발견
된 버그는 리팩터링 후에도 그대로 남아 있어야 한다(단, 아무도 발견하지 못한숨은 버그는 수정해도 괜찮다).

**리팩터링의 목적은 코드를 이해하고 수정하기 쉽게만드는 것이다. 프로그램 성능은 좋아질 수도, 나빠질 수도 있다.**
